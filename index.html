<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Qu√©t QR</title>
<script src="https://unpkg.com/html5-qrcode"></script>
<style>
body { font-family: Arial; text-align: center; }
#reader { width: 320px; margin: auto; }
#result { margin-top: 15px; font-size: 16px; color: green; }
button { padding: 10px 20px; font-size: 16px; }
</style>
</head>

<body>

<h2>Qu√©t m√£ QR</h2>
<button onclick="startScan()">‚ñ∂ B·∫Øt ƒë·∫ßu qu√©t</button>

<div id="reader"></div>
<div id="result"></div>

<script>
let qr;

function startScan() {
  document.getElementById("result").innerText = "";
  qr = new Html5Qrcode("reader");

  qr.start(
    { facingMode: "environment" },
    {
      fps: 10,
      qrbox: function (vw, vh) {
        let size = Math.min(vw, vh) * 0.7;
        return { width: size, height: size };
      }
    },
    (text) => {
      document.getElementById("result").innerText = "ƒê√£ qu√©t: " + text;

      // üî• T·ª∞ M·ªû LINK
      if (text.startsWith("http")) {
        setTimeout(() => window.open(text, "_blank"), 300);
      }
    },
    (error) => {
      // log l·ªói ƒë·ªçc ƒë·ªÉ debug (kh√¥ng ·∫£nh h∆∞·ªüng)
      console.log(error);
    }
  );
}
</script>

</body>
</html>
